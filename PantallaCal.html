<html>
 <head>
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width">
     <link rel="stylesheet" type="text/css" href="style.css">
     <link href="https://fonts.googleapis.com/css?family=Revalia|Roboto" rel="stylesheet">
 </head>
     
 <body>
     <div class="pantallaCalculadora">
         <div class="texto">
         
             <p class="textoPantalla" id="textoPantalla">0</p>
             
         </div>
         <div class="botones">
             <button class="primerFila" onclick="opuest()">±</button>
             <button class="primerFila" onclick="numero('(')">(</button>
             <button class="primerFila" onclick="numero(')')">)</button>
             <button class="primerFila" onclick="newV('BlockNotas.html')">★</button>
             <button class="numero" value="7" onclick="numero(7)">7</button>
             <button class="numero" value="8" onclick="numero(8)">8</button>
             <button class="numero" value="9" onclick="numero(9)">9</button>
             
             
             <button class="operacion" onclick="numero('/')">/</button>
             
             <button class="numero" value="4" onclick="numero(4)">4</button>
             <button class="numero" value="5" onclick="numero(5)">5</button>
             <button class="numero" value="6" onclick="numero(6)">6</button>
             
             
             <button class="operacion" value="x" onclick="numero('*')">X</button>
             
             <button class="numero" value="1" onclick="numero(1)">1</button>
             <button class="numero" value="2" onclick="numero(2)">2</button>
             <button class="numero" value="3" onclick="numero(3)">3</button>
             
             
             <button class="operacion" value="-" onclick="numero('-')">-</button>
             <button class="numero" value="0" onclick="numero(0)">0</button>
             
             <button class="numero" onclick="numero('.')">.</button>
             <button class="numero" value="%" onclick="porcent()">%</button>
             <button class="operacion" id="mas" value="+" onclick="numero('+')">+</button><br>
             <button class="c" value="C" onclick="borradoTotal()">C</button>
             
             <button class="igual" onclick="igualar()">=</button>
             
         </div>
         
     </div>
 </body>
     <script>
         
        
             
     window.onload = function(){ //Acciones tras cargar la página
 pantalla=document.getElementById("textoPantalla"); //elemento pantalla de salida
 }
 x="0"; //número en pantalla
 xi=1; //iniciar número en pantalla: 1=si; 0=no;
 coma=0; //estado coma decimal 0=no, 1=si;
 ni=0; //número oculto o en espera.
 op="no"; //operación en curso; "no" =  sin operación.
 
 //mostrar número en pantalla según se va escribiendo:
 function numero(xx) { //recoge el número pulsado en el argumento.
          if (xi==1  ) {	// inicializar un número, 
             pantalla.innerHTML=xx; //mostrar en pantalla
             x=xx; //guardar número
             if (xx==".") { //si escribimos una coma al principio del número
                pantalla.innerHTML="0."; //escribimos 0.
                x=xx; //guardar número
                coma=1; //cambiar estado de la coma
                }
            }
            else { //continuar escribiendo un número
                if (xx=="." && coma==0) { //si escribimos una coma decimal pòr primera vez
                    pantalla.innerHTML+=xx;
                    x+=xx;
                    coma=1; //cambiar el estado de la coma  
                }
                //si intentamos escribir una segunda coma decimal no realiza ninguna acción.
                else if (xx=="." && coma==1) {} 
                //Resto de casos: escribir un número del 0 al 9: 	 
                else {
                    pantalla.innerHTML+=xx;
                    x+=xx
                }
             }
             xi=0 //el número está iniciado y podemos ampliarlo.
          }
 function igualar() {
         
     num=pantalla.innerHTML;
     pantalla.innerHTML=eval(num);
     
 }
 
 function porcent() { 
          x=pantalla.innerHTML;
          x=x/100 //dividir por 100 el número
          pantalla.innerHTML=x; //mostrar en pantalla
          igualar() //resolver y mostrar operaciones pendientes
          xi=1 //reiniciar la pantalla
          }
 
 function opuest() { 
          nx=Number(x); //convertir en número
          nx=-nx; //cambiar de signo
          x=String(nx); //volver a convertir a cadena
          pantalla.innerHTML=x;//mostrar en pantalla.
 }
 
 
 function borradoTotal() {
          pantalla.innerHTML=0; //poner pantalla a 0
          x="0"; //reiniciar número en pantalla
          coma=0; //reiniciar estado coma decimal 
          ni=0 //indicador de número oculto a 0;
          op="no" //borrar operación en curso.
          }
         
 function newV(liga) {
     if(pantalla.innerHTML=='0007') {
          window.location.assign(liga);
     } else {
         
     }
 }
     
 </script>
     
     
     
 </html>